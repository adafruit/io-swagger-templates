'use strict';

var util = require('util'),
    {{#operations}}model = require('../models/{{modelname}}.js');{{#operation}}

module.exports.{{operationId}} = function {{operationId}}(req, res, next) {
{{#hasParams}}

  var {#allParams}}{{paramName}} = req.swagger.params['{{baseName}}'].value{{#hasMore}},
      {{/hasMore}}{{/allParams}};
{{/hasParams}}

  model.{{nickname}}({{#allParams}}{{paramName}}{{#hasMore}}, {{/hasMore}}{{/allParams}})
    .then(function(data) {
      res.json(data);
    }).
    catch(function(err) {
      res.writeHead(500);
      res.end();
    });

};
{{/operation}}{{/operations}}
